{"remainingRequest":"C:\\Users\\migue\\Documents\\SOC-UBIQUM\\proba\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\migue\\Documents\\SOC-UBIQUM\\proba\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\migue\\Documents\\SOC-UBIQUM\\proba\\src\\store.js","dependencies":[{"path":"C:\\Users\\migue\\Documents\\SOC-UBIQUM\\proba\\src\\store.js","mtime":1554732611515},{"path":"C:\\Users\\migue\\Documents\\SOC-UBIQUM\\proba\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\migue\\Documents\\SOC-UBIQUM\\proba\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\migue\\Documents\\SOC-UBIQUM\\proba\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"C:\\\\Users\\\\migue\\\\Documents\\\\SOC-UBIQUM\\\\proba\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/objectSpread\";\nimport \"core-js/modules/web.dom.iterable\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport fire from './fb.js';\nVue.use(Vuex);\nvar dataFire = [];\nvar usuario = {};\nvar dataChats = [];\nfire.db.collection('matches').onSnapshot(function (res) {\n  var changes = res.docChanges();\n  changes.forEach(function (change) {\n    if (change.type === 'added') {\n      dataFire.push(_objectSpread({}, change.doc.data(), {\n        id: change.doc.id\n      }));\n    }\n  });\n});\nfire.db.collection('chats').onSnapshot(function (res) {\n  var changes = res.docChanges();\n  changes.forEach(function (change) {\n    if (change.type === 'added') {\n      dataChats.push(_objectSpread({}, change.doc.data(), {\n        id: change.doc.id\n      }));\n    }\n  });\n});\nfire.auth.onAuthStateChanged(function (user) {\n  if (user) {\n    usuario = {\n      userEmail: user.email,\n      userLog: true // User is signed in.\n      // var displayName = user.displayName\n      // var email = user.email\n      // // var emailVerified = user.emailVerified\n      // // var photoURL = user.photoURL\n      // // var isAnonymous = user.isAnonymous\n      // var uid = user.uid\n      // var providerData = user.providerData\n\n    };\n    console.log(\"hay usuario conectado\"); // ...\n  } else {\n    // User is signed out.\n    // ...\n    console.log('No hay usuario conectado');\n    usuario = {\n      userEmail: null,\n      userLog: false\n    };\n  }\n});\nexport default new Vuex.Store({\n  state: {\n    matches: dataFire,\n    chats: dataChats,\n    links: [{\n      title: 'Home',\n      icon: 'home',\n      route: '/'\n    }, {\n      title: 'Chat',\n      icon: 'add',\n      route: '/Chat'\n    }, {\n      title: 'Schedule',\n      icon: 'schedule',\n      route: '/schedule'\n    }],\n    usersAdmin: ['migue.shar.17@gmail.com', 'dani@dani.com'],\n    currentUser: '',\n    stateUser: usuario.userEmail,\n    isUserLog: usuario.userLog\n  },\n  getters: {\n    isUserAdmin: function isUserAdmin(state) {\n      var admin = state.usersAdmin.some(function (user) {\n        return user === state.currentUser;\n      });\n      return admin;\n    }\n  },\n  mutations: {\n    userLogged: function userLogged(state, user) {\n      state.currentUser = user;\n      state.isUserLog = !state.isUserLog;\n    }\n  },\n  actions: {}\n});",{"version":3,"sources":["C:\\Users\\migue\\Documents\\SOC-UBIQUM\\proba\\src\\store.js"],"names":["Vue","Vuex","fire","use","dataFire","usuario","dataChats","db","collection","onSnapshot","res","changes","docChanges","forEach","change","type","push","doc","data","id","auth","onAuthStateChanged","user","userEmail","email","userLog","console","log","Store","state","matches","chats","links","title","icon","route","usersAdmin","currentUser","stateUser","isUserLog","getters","isUserAdmin","admin","some","mutations","userLogged","actions"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport fire from './fb.js'\r\nVue.use(Vuex)\r\nlet dataFire = []\r\nlet usuario = {}\r\nlet dataChats = []\r\nfire.db.collection('matches').onSnapshot(res => {\r\n  const changes = res.docChanges()\r\n  changes.forEach(change => {\r\n    if (change.type === 'added') {\r\n      dataFire.push({\r\n        ...change.doc.data(),\r\n        id: change.doc.id\r\n      })\r\n    }\r\n  })\r\n})\r\nfire.db.collection('chats').onSnapshot(res => {\r\n  const changes = res.docChanges()\r\n  changes.forEach(change => {\r\n    if (change.type === 'added') {\r\n      dataChats.push({\r\n        ...change.doc.data(),\r\n        id: change.doc.id\r\n      })\r\n    }\r\n  })\r\n})\r\nfire.auth.onAuthStateChanged(function (user) {\r\n  if (user) {\r\n    usuario = { userEmail: user.email, userLog: true }\r\n    // User is signed in.\r\n    // var displayName = user.displayName\r\n    // var email = user.email\r\n    // // var emailVerified = user.emailVerified\r\n    // // var photoURL = user.photoURL\r\n    // // var isAnonymous = user.isAnonymous\r\n    // var uid = user.uid\r\n    // var providerData = user.providerData\r\n    console.log(`hay usuario conectado`)\r\n    // ...\r\n  } else {\r\n    // User is signed out.\r\n    // ...\r\n    console.log('No hay usuario conectado')\r\n    usuario = { userEmail: null, userLog: false }\r\n  }\r\n})\r\nexport default new Vuex.Store({\r\n  state: {\r\n    matches: dataFire,\r\n    chats: dataChats,\r\n    links: [\r\n      {\r\n        title: 'Home',\r\n        icon: 'home',\r\n        route: '/'\r\n      },\r\n      {\r\n        title: 'Chat',\r\n        icon: 'add',\r\n        route: '/Chat'\r\n      }, {\r\n        title: 'Schedule',\r\n        icon: 'schedule',\r\n        route: '/schedule'\r\n      }\r\n\r\n    ],\r\n    usersAdmin: ['migue.shar.17@gmail.com', 'dani@dani.com'],\r\n    currentUser: '',\r\n    stateUser: usuario.userEmail,\r\n    isUserLog: usuario.userLog\r\n  },\r\n  getters: {\r\n    isUserAdmin: state => {\r\n      let admin = state.usersAdmin.some(user => user === state.currentUser)\r\n      return admin\r\n    }\r\n  },\r\n  mutations: {\r\n    userLogged (state, user) {\r\n      state.currentUser = user\r\n      state.isUserLog = !state.isUserLog\r\n    }\r\n  },\r\n  actions: {\r\n\r\n  }\r\n})\r\n"]}]}